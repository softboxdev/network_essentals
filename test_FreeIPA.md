# Тест по FreeIPA и интеграции сервисов
## Время выполнения: 30 минут

---

### Часть 1: Теоретические вопросы (20 минут)

**1. Архитектура FreeIPA (4 балла)**
Опишите основные компоненты FreeIPA и их назначение. Какие три ключевые системы интегрируются в FreeIPA для обеспечения его функциональности?

**2. Безопасность и аутентификация (4 балла)**
Объясните принцип работы мандатных атрибутов в FreeIPA. Как связаны Уровень Целостности (УЦ) пользователя и доступ к ресурсам?

**3. Репликация и отказоустойчивость (4 балла)**
Какие типы репликации поддерживает FreeIPA? Опишите процесс настройки реплики.

**4. Доверительные отношения (4 балла)**
Как работает доверие между FreeIPA и Active Directory? Какие предварительные требования необходимо выполнить?

**5. Управление доступом (4 балла)**
В чем разница между HBAC и Sudo правилами? Приведите пример использования каждого.

---

### Часть 2: Практические задания (30 минут)

**6. Командная строка FreeIPA (8 баллов)**

Напишите команды для выполнения следующих задач:
- Создать пользователя "ivanov" с полным именем "Иван Иванов"
- Создать группу "developers" и добавить в нее пользователя "ivanov"
- Создать правило Sudo, разрешающее группе "developers" выполнять все команды на всех хостах
- Показать информацию о созданном пользователе

**7. Настройка сервисов (10 баллов)**

Опишите шаги для настройки аутентификации через FreeIPA для:
- Веб-сервера Apache2 (5 баллов)
- Файлового сервера Samba (5 баллов)

**8. Диагностика проблем (12 баллов)**

Ситуация: пользователь не может войти на клиентскую машину, присоединенную к домену FreeIPA. Опишите пошаговый план диагностики проблемы, включая:
- Какие логи проверять (4 балла)
- Какие команды выполнить (4 балла)
- Возможные причины и решения (4 балла)

---

### Часть 3: Сценарии (10 минут)

**9. Проектирование инфраструктуры (10 баллов)**

Опишите архитектуру FreeIPA для компании со следующими требованиями:
- 3 офиса (Москва, СПб, Екатеринбург)
- 200 пользователей
- Требуется отказоустойчивость и минимальная задержка аутентификации
- Необходима интеграция с существующим доменом AD
- Требуется разграничение прав доступа к серверам разработки и production

Ваш ответ должен включать:
- Количество и размещение серверов FreeIPA
- Схему репликации
- Подход к организации доверительных отношений
- Политики доступа

---

## Критерии оценки

| Часть | Максимальный балл | Критерии оценки |
|-------|-------------------|-----------------|
| 1. Теоретические вопросы | 20 | Полнота ответа, точность терминологии, понимание концепций |
| 2. Практические задания | 30 | Корректность команд, логичность последовательности действий |
| 3. Сценарии | 10 | Архитектурная грамотность, учет требований, реалистичность решения |
| **Итого** | **60** | |

**Шкала оценки:**
- 54-60 баллов: Отлично
- 45-53 балла: Хорошо
- 36-44 балла: Удовлетворительно
- Менее 36: Неудовлетворительно


---

**Время выполнения:** 30 минут  
**Общий максимальный балл:** 60